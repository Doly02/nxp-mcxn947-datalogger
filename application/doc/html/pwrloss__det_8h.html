<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: include/pwrloss_det.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pwrloss__det_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pwrloss_det.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;fsl_lpcmp.h&quot;</code><br />
<code>#include &quot;fsl_spc.h&quot;</code><br />
<code>#include &quot;<a class="el" href="led_8h_source.html">led.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;fsl_ctimer.h&quot;</code><br />
</div>
<p><a href="pwrloss__det_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7342461d1fcb9a6c8c3ae456bafa61d5" id="r_a7342461d1fcb9a6c8c3ae456bafa61d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7342461d1fcb9a6c8c3ae456bafa61d5">LPCMP_BASE</a>&#160;&#160;&#160;CMP1</td></tr>
<tr class="memdesc:a7342461d1fcb9a6c8c3ae456bafa61d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base Address of The Low-Power Comparator (LPCMP).  <br /></td></tr>
<tr class="separator:a7342461d1fcb9a6c8c3ae456bafa61d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b640fbdea56d26a90253d0fe4fc220" id="r_af9b640fbdea56d26a90253d0fe4fc220"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9b640fbdea56d26a90253d0fe4fc220">LPCMP_USER_CHANNEL</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:af9b640fbdea56d26a90253d0fe4fc220"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparator Input Channel Used For 5V Monitoring.  <br /></td></tr>
<tr class="separator:af9b640fbdea56d26a90253d0fe4fc220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f642f96675b7192c91d864dbf7dcb38" id="r_a4f642f96675b7192c91d864dbf7dcb38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f642f96675b7192c91d864dbf7dcb38">LPCMP_DAC_CHANNEL</a>&#160;&#160;&#160;0x07</td></tr>
<tr class="memdesc:a4f642f96675b7192c91d864dbf7dcb38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparator Internal DAC Reference Channel.  <br /></td></tr>
<tr class="separator:a4f642f96675b7192c91d864dbf7dcb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648509c09a6537239f18c77e34597db7" id="r_a648509c09a6537239f18c77e34597db7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a648509c09a6537239f18c77e34597db7">LPCMP_IRQ_ID</a>&#160;&#160;&#160;HSCMP1_IRQn</td></tr>
<tr class="memdesc:a648509c09a6537239f18c77e34597db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ Number for The Comparator Peripheral.  <br /></td></tr>
<tr class="separator:a648509c09a6537239f18c77e34597db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e04ddbaa1a9179a401e01986f5bbea" id="r_a23e04ddbaa1a9179a401e01986f5bbea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23e04ddbaa1a9179a401e01986f5bbea">SPC_BASE</a>&#160;&#160;&#160;SPC0</td></tr>
<tr class="memdesc:a23e04ddbaa1a9179a401e01986f5bbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base Address of The Supply Power Controller (SPC).  <br /></td></tr>
<tr class="separator:a23e04ddbaa1a9179a401e01986f5bbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7786fe5adcd1d885491257b0ebc27b8" id="r_ab7786fe5adcd1d885491257b0ebc27b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7786fe5adcd1d885491257b0ebc27b8">CTIMER</a>&#160;&#160;&#160;CTIMER4</td></tr>
<tr class="memdesc:ab7786fe5adcd1d885491257b0ebc27b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer Used To Control Delayed Activation of Power Loss Detection.  <br /></td></tr>
<tr class="separator:ab7786fe5adcd1d885491257b0ebc27b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31628cf818c8dea7d3311a53c65cb924" id="r_a31628cf818c8dea7d3311a53c65cb924"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31628cf818c8dea7d3311a53c65cb924">CTIMER_MAT0_OUT</a>&#160;&#160;&#160;kCTIMER_Match_0</td></tr>
<tr class="memdesc:a31628cf818c8dea7d3311a53c65cb924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer Match Output Channel 0.  <br /></td></tr>
<tr class="separator:a31628cf818c8dea7d3311a53c65cb924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ee2e0d23f2366ac80ccbdda3808b70" id="r_a54ee2e0d23f2366ac80ccbdda3808b70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54ee2e0d23f2366ac80ccbdda3808b70">CTIMER_EMT0_OUT</a>&#160;&#160;&#160;(1u &lt;&lt; kCTIMER_Match_0)</td></tr>
<tr class="memdesc:a54ee2e0d23f2366ac80ccbdda3808b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer External Match Output Mask For Channel 0.  <br /></td></tr>
<tr class="separator:a54ee2e0d23f2366ac80ccbdda3808b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282d828757fa193e5c9a4e671867cf34" id="r_a282d828757fa193e5c9a4e671867cf34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a282d828757fa193e5c9a4e671867cf34">CTIMER_CLK_FREQ</a>&#160;&#160;&#160;CLOCK_GetCTimerClkFreq(4U)</td></tr>
<tr class="memdesc:a282d828757fa193e5c9a4e671867cf34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clock Frequency Retrieval Macro For The Timer Instance.  <br /></td></tr>
<tr class="separator:a282d828757fa193e5c9a4e671867cf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a640dcd500f29a2a077dbc83532cde9e5" id="r_a640dcd500f29a2a077dbc83532cde9e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a640dcd500f29a2a077dbc83532cde9e5">PWRLOSS_DetectionInit</a> (void)</td></tr>
<tr class="memdesc:a640dcd500f29a2a077dbc83532cde9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes Power Loss Detection Components.  <br /></td></tr>
<tr class="separator:a640dcd500f29a2a077dbc83532cde9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab7786fe5adcd1d885491257b0ebc27b8" name="ab7786fe5adcd1d885491257b0ebc27b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7786fe5adcd1d885491257b0ebc27b8">&#9670;&#160;</a></span>CTIMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTIMER&#160;&#160;&#160;CTIMER4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer Used To Control Delayed Activation of Power Loss Detection. </p>
<p>The Comparator is Enabled After a Delay of 5tau, Which Corresponds To The Time Needed For The Backup Capacitor To Become Fully Charged. This Delay Ensures Valid Detection of Power Drop Events and Avoids False Triggering During Startup. </p>

</div>
</div>
<a id="a282d828757fa193e5c9a4e671867cf34" name="a282d828757fa193e5c9a4e671867cf34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282d828757fa193e5c9a4e671867cf34">&#9670;&#160;</a></span>CTIMER_CLK_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTIMER_CLK_FREQ&#160;&#160;&#160;CLOCK_GetCTimerClkFreq(4U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clock Frequency Retrieval Macro For The Timer Instance. </p>

</div>
</div>
<a id="a54ee2e0d23f2366ac80ccbdda3808b70" name="a54ee2e0d23f2366ac80ccbdda3808b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ee2e0d23f2366ac80ccbdda3808b70">&#9670;&#160;</a></span>CTIMER_EMT0_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTIMER_EMT0_OUT&#160;&#160;&#160;(1u &lt;&lt; kCTIMER_Match_0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer External Match Output Mask For Channel 0. </p>

</div>
</div>
<a id="a31628cf818c8dea7d3311a53c65cb924" name="a31628cf818c8dea7d3311a53c65cb924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31628cf818c8dea7d3311a53c65cb924">&#9670;&#160;</a></span>CTIMER_MAT0_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CTIMER_MAT0_OUT&#160;&#160;&#160;kCTIMER_Match_0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer Match Output Channel 0. </p>

</div>
</div>
<a id="a7342461d1fcb9a6c8c3ae456bafa61d5" name="a7342461d1fcb9a6c8c3ae456bafa61d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7342461d1fcb9a6c8c3ae456bafa61d5">&#9670;&#160;</a></span>LPCMP_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPCMP_BASE&#160;&#160;&#160;CMP1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base Address of The Low-Power Comparator (LPCMP). </p>
<p>Used To Detect Loss of Primary 5V Supply. If The Voltage Drops Below a Defined Threshold, It Triggers a Transition To Backup Power Mode for Safe Data Preservation. </p>

</div>
</div>
<a id="a4f642f96675b7192c91d864dbf7dcb38" name="a4f642f96675b7192c91d864dbf7dcb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f642f96675b7192c91d864dbf7dcb38">&#9670;&#160;</a></span>LPCMP_DAC_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPCMP_DAC_CHANNEL&#160;&#160;&#160;0x07</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Comparator Internal DAC Reference Channel. </p>

</div>
</div>
<a id="a648509c09a6537239f18c77e34597db7" name="a648509c09a6537239f18c77e34597db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a648509c09a6537239f18c77e34597db7">&#9670;&#160;</a></span>LPCMP_IRQ_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPCMP_IRQ_ID&#160;&#160;&#160;HSCMP1_IRQn</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IRQ Number for The Comparator Peripheral. </p>

</div>
</div>
<a id="af9b640fbdea56d26a90253d0fe4fc220" name="af9b640fbdea56d26a90253d0fe4fc220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b640fbdea56d26a90253d0fe4fc220">&#9670;&#160;</a></span>LPCMP_USER_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPCMP_USER_CHANNEL&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Comparator Input Channel Used For 5V Monitoring. </p>

</div>
</div>
<a id="a23e04ddbaa1a9179a401e01986f5bbea" name="a23e04ddbaa1a9179a401e01986f5bbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e04ddbaa1a9179a401e01986f5bbea">&#9670;&#160;</a></span>SPC_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPC_BASE&#160;&#160;&#160;SPC0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base Address of The Supply Power Controller (SPC). </p>
<p>For Activation Analog Modules. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a640dcd500f29a2a077dbc83532cde9e5" name="a640dcd500f29a2a077dbc83532cde9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640dcd500f29a2a077dbc83532cde9e5">&#9670;&#160;</a></span>PWRLOSS_DetectionInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PWRLOSS_DetectionInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes Power Loss Detection Components. </p>
<p>This Function Configures The Comparator (LPCMP) for Monitoring The 5V Power Rail and The Timer (CTIMER4) That Delays The Activation of The Comparator Until The Backup Capacitor Is Fully Charged (~5tau). After Initialization, The Timer is Started and The Comparator Will Be Enabled Upon Timer Match Event. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="pwrloss__det_8h.html">pwrloss_det.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
