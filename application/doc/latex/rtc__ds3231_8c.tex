\doxysection{drivers/rtc\+\_\+ds3231.c File Reference}
\hypertarget{rtc__ds3231_8c}{}\label{rtc__ds3231_8c}\index{drivers/rtc\_ds3231.c@{drivers/rtc\_ds3231.c}}
{\ttfamily \#include "{}rtc\+\_\+ds3231.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtc__ds3231_8c_a1d7cd4b7016538b77f3235ee3fcf06b3}{I2\+C\+\_\+\+DATA\+\_\+\+LENGTH}}~(2) /\texorpdfstring{$\ast$}{*} MAX is 256 \texorpdfstring{$\ast$}{*}/
\begin{DoxyCompactList}\small\item\em Length of I2C Rx Buffer. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{rtc__ds3231_8c_ab9a0d70cb746f776adf784200005e0a1}{BYTE\+\_\+1}}~(0U)
\item 
\#define \mbox{\hyperlink{rtc__ds3231_8c_a8478fde7b3478e18f57a71255db28c8a}{BYTE\+\_\+2}}~(1U)
\item 
\#define \mbox{\hyperlink{rtc__ds3231_8c_aeb449618453be08beb854cf0122c16a1}{CLK\+\_\+\+STATE}}(x)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rtc__ds3231_8c_a6c52a80cd1bef716342dc62c4b4e3579}{AT\+\_\+\+NONCACHEABLE\+\_\+\+SECTION}} (uint8\+\_\+t g\+\_\+a\+Rx\+Buff\mbox{[}\mbox{\hyperlink{rtc__ds3231_8c_a1d7cd4b7016538b77f3235ee3fcf06b3}{I2\+C\+\_\+\+DATA\+\_\+\+LENGTH}}\mbox{]})
\begin{DoxyCompactList}\small\item\em Reception Buffer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{rtc__ds3231_8c_ac8b71b782f019fcc2256073a817c48c7}{AT\+\_\+\+NONCACHEABLE\+\_\+\+SECTION}} (lpi2c\+\_\+master\+\_\+edma\+\_\+handle\+\_\+t g\+Edma\+Handle)
\begin{DoxyCompactList}\small\item\em e\+DMA Driver Handle Used For Non-\/\+Blocking DMA Transfer. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{rtc__ds3231_8c_a038e5a1da8a787ae48b1e279cab6df55}{lpi2c\+\_\+callback}} (LPI2\+C\+\_\+\+Type \texorpdfstring{$\ast$}{*}base, lpi2c\+\_\+master\+\_\+edma\+\_\+handle\+\_\+t \texorpdfstring{$\ast$}{*}handle, status\+\_\+t status, void \texorpdfstring{$\ast$}{*}user\+Data)
\item 
uint8\+\_\+t \mbox{\hyperlink{group___r_t_c_ga416879c4510669c23007e9b0e8bcd219}{RTC\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize The RTC DS3231. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga487d25d797a1fed2626ac9709ddac456}{RTC\+\_\+\+Deinit}} (void)
\begin{DoxyCompactList}\small\item\em De-\/\+Initialize The RTC DS3231. \end{DoxyCompactList}\item 
static uint8\+\_\+t \mbox{\hyperlink{rtc__ds3231_8c_ab12090e402b342c7f8773f2094773394}{RTC\+\_\+\+Convert\+To\+BCD}} (uint8\+\_\+t dec)
\item 
static uint8\+\_\+t \mbox{\hyperlink{rtc__ds3231_8c_a87c0d6971d07785ee1a2abf9e24eeb3f}{RTC\+\_\+\+Convert\+To\+DEC}} (uint8\+\_\+t bcd)
\item 
\mbox{\hyperlink{rtc__ds3231_8h_adc8809c345071ca2fd7a68359dbba85e}{RTC\+\_\+osc\+\_\+state\+\_\+t}} \mbox{\hyperlink{group___r_t_c_ga18ceefab30bd070d2eafd74b0a7c9073}{RTC\+\_\+\+Get\+State}} (void)
\begin{DoxyCompactList}\small\item\em This Function Checks If The Oscillator Is Still Running. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_gada78757b2decedc79e0382b42e45a513}{RTC\+\_\+\+Set\+Osc\+State}} (\mbox{\hyperlink{rtc__ds3231_8h_adc8809c345071ca2fd7a68359dbba85e}{RTC\+\_\+osc\+\_\+state\+\_\+t}} state)
\begin{DoxyCompactList}\small\item\em Sets The Oscillator Stop Flag (OSF). \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___r_t_c_gac15d2cfbe2c4c9482e784f6a5aeed32a}{RTC\+\_\+\+Write}} (uint8\+\_\+t reg\+Address, uint8\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Writes Value Into RTC Registers. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___r_t_c_ga340e36eb16d87e6c82d26b051844060c}{RTC\+\_\+\+Read}} (uint8\+\_\+t reg\+Address)
\begin{DoxyCompactList}\small\item\em Reads Value From RTC Register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga37c611694906a21743c2ad7123a55f9f}{RTC\+\_\+\+Set\+Time}} (\mbox{\hyperlink{struct_r_t_c__time__t}{RTC\+\_\+time\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Time)
\begin{DoxyCompactList}\small\item\em Sets Time. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga022d5dbffbbdba01d41f47d35dd2f411}{RTC\+\_\+\+Get\+Time}} (\mbox{\hyperlink{struct_r_t_c__time__t}{RTC\+\_\+time\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Time)
\begin{DoxyCompactList}\small\item\em Gets Time. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_gaa91602eaabcb3a6e36c0da47980e76f8}{RTC\+\_\+\+Set\+Date}} (\mbox{\hyperlink{struct_r_t_c__date__t}{RTC\+\_\+date\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Date)
\begin{DoxyCompactList}\small\item\em Sets Date. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_gaff981efc71adf20253068942e278b421}{RTC\+\_\+\+Get\+Date}} (\mbox{\hyperlink{struct_r_t_c__date__t}{RTC\+\_\+date\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Date)
\begin{DoxyCompactList}\small\item\em Gets Date. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga1c9f11eaae27873a2bc415d53541594d}{RTC\+\_\+\+Set\+Interrupt\+Mode}} (\mbox{\hyperlink{rtc__ds3231_8h_a55977ad6752ee23796c4bf536312de33}{RTC\+\_\+interrupt\+\_\+mode\+\_\+t}} mode)
\begin{DoxyCompactList}\small\item\em Sets The INTCN Bit in Control Register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga06995b923b484104afe590533698e8a1}{RTC\+\_\+\+Ctrl\+Alarm1}} (uint8\+\_\+t enable)
\begin{DoxyCompactList}\small\item\em Enables/\+Disables The Alarm 1. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_gaacb3e98a52f0d90ecd8affb36960cfc6}{RTC\+\_\+\+Clear\+Flag\+Alarm1}} (void)
\begin{DoxyCompactList}\small\item\em Clears The A1F Flag in Control Register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga86e1ffe598df20f7d90abe6ea4fb0135}{RTC\+\_\+\+Ctrl\+Alarm2}} (uint8\+\_\+t enable)
\begin{DoxyCompactList}\small\item\em Enables/\+Disables The Alarm 2. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga2b8c5234e3d21ad10eb86b7a5b912dd3}{RTC\+\_\+\+Clear\+Flag\+Alarm2}} (void)
\begin{DoxyCompactList}\small\item\em Clears The A1F Flag in Control Register. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga61d57ebc0932c5610c8a7e8dd7d860f8}{RTC\+\_\+\+Set\+Time\+Default}} (\mbox{\hyperlink{struct_r_t_c__time__t}{RTC\+\_\+time\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Time)
\begin{DoxyCompactList}\small\item\em Sets Time To Default. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___r_t_c_ga6a3b9bda0f1f1fdff2c4ae91f180021e}{RTC\+\_\+\+Set\+Date\+Default}} (\mbox{\hyperlink{struct_r_t_c__date__t}{RTC\+\_\+date\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Date)
\begin{DoxyCompactList}\small\item\em Sets Date To Default. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
edma\+\_\+handle\+\_\+t \mbox{\hyperlink{rtc__ds3231_8c_afb84870262e12212b969d872bff3bead}{g\+Edma\+Tx\+Handle}}
\begin{DoxyCompactList}\small\item\em Tx e\+DMA Handle. \end{DoxyCompactList}\item 
edma\+\_\+handle\+\_\+t \mbox{\hyperlink{rtc__ds3231_8c_af154a23f818a55047504f0c3f2d3aa67}{g\+Edma\+Rx\+Handle}}
\begin{DoxyCompactList}\small\item\em Rx e\+DMA Handle. \end{DoxyCompactList}\item 
volatile bool \mbox{\hyperlink{rtc__ds3231_8c_ab6d7adecec71e697f12bf437aa7bb168}{g\+Completion\+Flag}} = false
\begin{DoxyCompactList}\small\item\em Flag Indicating Whether The Transfer Has Finished. \end{DoxyCompactList}\item 
lpi2c\+\_\+master\+\_\+transfer\+\_\+t \mbox{\hyperlink{rtc__ds3231_8c_af210093caf29792f8f940201ddd0cfec}{xfer}} = \{0\}
\begin{DoxyCompactList}\small\item\em Transfer Descriptor for I2C Communication. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{rtc__ds3231_8c_ab9a0d70cb746f776adf784200005e0a1}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!BYTE\_1@{BYTE\_1}}
\index{BYTE\_1@{BYTE\_1}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{BYTE\_1}{BYTE\_1}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_ab9a0d70cb746f776adf784200005e0a1} 
\#define BYTE\+\_\+1~(0U)}

\Hypertarget{rtc__ds3231_8c_a8478fde7b3478e18f57a71255db28c8a}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!BYTE\_2@{BYTE\_2}}
\index{BYTE\_2@{BYTE\_2}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{BYTE\_2}{BYTE\_2}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_a8478fde7b3478e18f57a71255db28c8a} 
\#define BYTE\+\_\+2~(1U)}

\Hypertarget{rtc__ds3231_8c_aeb449618453be08beb854cf0122c16a1}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!CLK\_STATE@{CLK\_STATE}}
\index{CLK\_STATE@{CLK\_STATE}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{CLK\_STATE}{CLK\_STATE}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_aeb449618453be08beb854cf0122c16a1} 
\#define CLK\+\_\+\+STATE(\begin{DoxyParamCaption}\item[{}]{x}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(uint8\_t)((x\ >>\ 7)\ \&\ 0x1)}

\end{DoxyCode}
\Hypertarget{rtc__ds3231_8c_a1d7cd4b7016538b77f3235ee3fcf06b3}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!I2C\_DATA\_LENGTH@{I2C\_DATA\_LENGTH}}
\index{I2C\_DATA\_LENGTH@{I2C\_DATA\_LENGTH}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{I2C\_DATA\_LENGTH}{I2C\_DATA\_LENGTH}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_a1d7cd4b7016538b77f3235ee3fcf06b3} 
\#define I2\+C\+\_\+\+DATA\+\_\+\+LENGTH~(2) /\texorpdfstring{$\ast$}{*} MAX is 256 \texorpdfstring{$\ast$}{*}/}



Length of I2C Rx Buffer. 



\doxysubsection{Function Documentation}
\Hypertarget{rtc__ds3231_8c_ac8b71b782f019fcc2256073a817c48c7}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!AT\_NONCACHEABLE\_SECTION@{AT\_NONCACHEABLE\_SECTION}}
\index{AT\_NONCACHEABLE\_SECTION@{AT\_NONCACHEABLE\_SECTION}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{AT\_NONCACHEABLE\_SECTION()}{AT\_NONCACHEABLE\_SECTION()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_ac8b71b782f019fcc2256073a817c48c7} 
AT\+\_\+\+NONCACHEABLE\+\_\+\+SECTION (\begin{DoxyParamCaption}\item[{lpi2c\+\_\+master\+\_\+edma\+\_\+handle\+\_\+t}]{g\+Edma\+Handle}{}\end{DoxyParamCaption})}



e\+DMA Driver Handle Used For Non-\/\+Blocking DMA Transfer. 

\Hypertarget{rtc__ds3231_8c_a6c52a80cd1bef716342dc62c4b4e3579}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!AT\_NONCACHEABLE\_SECTION@{AT\_NONCACHEABLE\_SECTION}}
\index{AT\_NONCACHEABLE\_SECTION@{AT\_NONCACHEABLE\_SECTION}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{AT\_NONCACHEABLE\_SECTION()}{AT\_NONCACHEABLE\_SECTION()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_a6c52a80cd1bef716342dc62c4b4e3579} 
AT\+\_\+\+NONCACHEABLE\+\_\+\+SECTION (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{g\+\_\+a\+Rx\+Buff}{\mbox{[}\+I2\+C\+\_\+\+DATA\+\_\+\+LENGTH\mbox{]}}\end{DoxyParamCaption})}



Reception Buffer. 

Transmission Buffer.

Must Be In Non-\/\+Cacheable Memory Due To Usage of DMA. \Hypertarget{rtc__ds3231_8c_a038e5a1da8a787ae48b1e279cab6df55}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!lpi2c\_callback@{lpi2c\_callback}}
\index{lpi2c\_callback@{lpi2c\_callback}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{lpi2c\_callback()}{lpi2c\_callback()}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_a038e5a1da8a787ae48b1e279cab6df55} 
static void lpi2c\+\_\+callback (\begin{DoxyParamCaption}\item[{LPI2\+C\+\_\+\+Type \texorpdfstring{$\ast$}{*}}]{base}{, }\item[{lpi2c\+\_\+master\+\_\+edma\+\_\+handle\+\_\+t \texorpdfstring{$\ast$}{*}}]{handle}{, }\item[{status\+\_\+t}]{status}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+Data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{rtc__ds3231_8c_ab12090e402b342c7f8773f2094773394}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!RTC\_ConvertToBCD@{RTC\_ConvertToBCD}}
\index{RTC\_ConvertToBCD@{RTC\_ConvertToBCD}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{RTC\_ConvertToBCD()}{RTC\_ConvertToBCD()}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_ab12090e402b342c7f8773f2094773394} 
static uint8\+\_\+t RTC\+\_\+\+Convert\+To\+BCD (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{dec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{rtc__ds3231_8c_a87c0d6971d07785ee1a2abf9e24eeb3f}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!RTC\_ConvertToDEC@{RTC\_ConvertToDEC}}
\index{RTC\_ConvertToDEC@{RTC\_ConvertToDEC}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{RTC\_ConvertToDEC()}{RTC\_ConvertToDEC()}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_a87c0d6971d07785ee1a2abf9e24eeb3f} 
static uint8\+\_\+t RTC\+\_\+\+Convert\+To\+DEC (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{bcd}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\Hypertarget{rtc__ds3231_8c_ab6d7adecec71e697f12bf437aa7bb168}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!gCompletionFlag@{gCompletionFlag}}
\index{gCompletionFlag@{gCompletionFlag}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{gCompletionFlag}{gCompletionFlag}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_ab6d7adecec71e697f12bf437aa7bb168} 
volatile bool g\+Completion\+Flag = false}



Flag Indicating Whether The Transfer Has Finished. 

\Hypertarget{rtc__ds3231_8c_af154a23f818a55047504f0c3f2d3aa67}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!gEdmaRxHandle@{gEdmaRxHandle}}
\index{gEdmaRxHandle@{gEdmaRxHandle}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{gEdmaRxHandle}{gEdmaRxHandle}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_af154a23f818a55047504f0c3f2d3aa67} 
edma\+\_\+handle\+\_\+t g\+Edma\+Rx\+Handle}



Rx e\+DMA Handle. 

\Hypertarget{rtc__ds3231_8c_afb84870262e12212b969d872bff3bead}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!gEdmaTxHandle@{gEdmaTxHandle}}
\index{gEdmaTxHandle@{gEdmaTxHandle}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{gEdmaTxHandle}{gEdmaTxHandle}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_afb84870262e12212b969d872bff3bead} 
edma\+\_\+handle\+\_\+t g\+Edma\+Tx\+Handle}



Tx e\+DMA Handle. 

\Hypertarget{rtc__ds3231_8c_af210093caf29792f8f940201ddd0cfec}\index{rtc\_ds3231.c@{rtc\_ds3231.c}!xfer@{xfer}}
\index{xfer@{xfer}!rtc\_ds3231.c@{rtc\_ds3231.c}}
\doxysubsubsection{\texorpdfstring{xfer}{xfer}}
{\footnotesize\ttfamily \label{rtc__ds3231_8c_af210093caf29792f8f940201ddd0cfec} 
lpi2c\+\_\+master\+\_\+transfer\+\_\+t xfer = \{0\}}



Transfer Descriptor for I2C Communication. 

Used to Configure and Execute Data Transfer Operations With The DS3231 via LPI2C using EDMA. 